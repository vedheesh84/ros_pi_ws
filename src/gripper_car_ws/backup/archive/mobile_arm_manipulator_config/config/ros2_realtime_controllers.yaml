# Real-time controller configuration for ROS2 MoveIt2
# This configuration enables real-time control capabilities

controller_manager:
  ros__parameters:
    update_rate: 1000  # Higher frequency for real-time control
    
    # Real-time joint trajectory controller
    mobile_arm_realtime_controller:
      type: joint_trajectory_controller/JointTrajectoryController
      
    # Real-time gripper controller  
    gripper_realtime_controller:
      type: position_controllers/GripperActionController
      
    # Joint state broadcaster (required for real-time)
    joint_state_broadcaster:
      type: joint_state_broadcaster/JointStateBroadcaster
      
    # Force torque sensor controller (if available)
    force_torque_sensor_controller:
      type: force_torque_sensor_broadcaster/ForceTorqueSensorBroadcaster

# Real-time joint trajectory controller parameters
mobile_arm_realtime_controller:
  ros__parameters:
    joints:
      - joint_1
      - joint_2
      - joint_3
      - joint_4
      - gripper_base_joint
    command_interfaces:
      - position
      - velocity
      - effort
    state_interfaces:
      - position
      - velocity
      - effort
    action_monitor_rate: 20.0
    allow_partial_joints_goal: false
    constraints:
      stopped_velocity_tolerance: 0.01
      goal_time: 0.6
      joint_1:
        trajectory: 0.05
        goal: 0.1
      joint_2:
        trajectory: 0.05
        goal: 0.1
      joint_3:
        trajectory: 0.05
        goal: 0.1
      joint_4:
        trajectory: 0.05
        goal: 0.1
      gripper_base_joint:
        trajectory: 0.05
        goal: 0.1
    state_publish_rate: 50.0
    action_monitor_rate: 20.0

# Real-time gripper controller parameters
gripper_realtime_controller:
  ros__parameters:
    joint: left_gear_joint
    action_monitor_rate: 20.0
    allow_partial_joints_goal: true
    constraints:
      goal_tolerance: 0.01
      stopped_velocity_tolerance: 0.01
      goal_time: 0.6
    state_publish_rate: 50.0
    action_monitor_rate: 20.0

# Force torque sensor controller (if hardware supports it)
force_torque_sensor_controller:
  ros__parameters:
    sensor_name: force_torque_sensor
    frame_id: force_torque_sensor_link
    publish_rate: 100.0

